# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Stack < Formula
  desc "A support tool for use with Terraform stacks, Azure DevOps build pipelines, and GitHub projects/repos.
"
  homepage "https://github.com/jlucktay/stack"
  version "0.11.1"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/jlucktay/stack/releases/download/v0.11.1/stack_0.11.1_Darwin_arm64.tar.gz"
      sha256 "d0f7d0530d5ec363ed10aae6a4c2ca8c259fdd823b7740c0a877123fc39e6116"
    end
    if Hardware::CPU.intel?
      url "https://github.com/jlucktay/stack/releases/download/v0.11.1/stack_0.11.1_Darwin_x86_64.tar.gz"
      sha256 "cc0db025d1946f82b286dcb205d94b93b9c6c1024b7c64bf0a4a3556ff03f322"
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/jlucktay/stack/releases/download/v0.11.1/stack_0.11.1_Linux_arm64.tar.gz"
      sha256 "917bcc1c195b83b55c39f2f7df24edad23cb4202d986d78a11149d8528d4463b"
    end
    if Hardware::CPU.intel?
      url "https://github.com/jlucktay/stack/releases/download/v0.11.1/stack_0.11.1_Linux_x86_64.tar.gz"
      sha256 "5a5be7cfb7e50547fa5f32efb7e154b12d579fe301991880b7729189db238080"
    end
  end

  def install
    bin.install "stack"
    output = Utils.popen_read("#{bin}/stack completion bash")
    (bash_completion/"stack").write output
    prefix.install_metafiles
  end

  def caveats; <<~EOS
    Please see the README for usage instructions:
    https://github.com/jlucktay/stack/blob/main/README.md
  EOS
  end

  test do
    system "#{bin}/stack"
  end
end
